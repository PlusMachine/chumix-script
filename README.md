# Скрипты для тестирования покерной сессии

Этот набор скриптов предназначен для тестирования серверной части покерной игры, включая создание сессии, подключение игроков и имитацию игрового процесса.

## Структура файлов

- `test-poker-session.ts` - Основной TypeScript скрипт тестирования
- `dist/` - Директория с компилированными JavaScript файлами
- `dist/current_room_id.txt` - Единственный источник ID текущей комнаты (используется npm run test)
- `dist/poker-test-session.log` - Лог-файл с результатами тестирования

## Запуск тестирования

### Через npm:

```
npm run test
```

Поведение:
- Если файл `dist/current_room_id.txt` содержит ID — скрипт подключится к этой сессии.
- Если файл пуст или отсутствует — будет создана новая сессия, а ID сохранится в `dist/current_room_id.txt`.

## Что делает скрипт

1. Создает новую покерную сессию или подключается к существующей
2. Подключает двух игроков и одного спектатора
3. Автоматически выполняет серию действий игроков (ставки, уравнивания, сбросы)
4. Логирует все события в консоль и файл `dist/poker-test-session.log`

## О файле current_room_id.txt

Скрипт сохраняет ID созданной комнаты в файл `dist/current_room_id.txt`. При запуске через `npm run test`:
- Если файл существует и не пуст — используется сохранённый ID.
- Если файл пуст или отсутствует — создаётся новая сессия и ID сохраняется туда.

## Примечание для разработчиков фронтенда

Вы можете использовать выведенный в консоль ROOM ID для подключения и тестирования фронтенд-части приложения. ID также сохраняется в файле `dist/current_room_id.txt`. 